---
title: code
description: Run the local DAG scheduler for multi-agent collaboration
format: freeform
version: 1
author: code
---

# /code â€” Local DAG Scheduler

Run the code scheduler to compile plans into DAG jobs and coordinate multi-agent work.

## Usage

```
/code <plan_path> --agents <N>
```

## What This Command Does

When you type `/code plan.md --agents 4`, the system will:

1. Start/ensure the local scheduler (SQLite WAL + HTTP on localhost:7337)
2. Compile the plan markdown into a true DAG (multi-dependency)
3. Enqueue all steps
4. Print join commands for N agent panes

## Execution

Run this in your terminal:

```bash
./code run {{USER_MESSAGE}} 
```

If `{{USER_MESSAGE}}` is empty, show help:

```bash
./code --help
```

## Quick Reference

```bash
# Start server only
./code server

# Expand a plan
./code run docs/code_runtime/examples/smoke.md --agents 3

# Join as a worker (paste into another pane)
./code worker --holder pane-1 --poll 2

# Local executor (auto-runs @cmd: jobs)
./code worker --mode local --holder exec-1 --poll 1

# Check status
./code stats

# List jobs
./code jobs
```
